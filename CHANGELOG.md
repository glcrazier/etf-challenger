# 更新日志 (Changelog)

本文档记录了ETF Challenger的所有版本更新内容。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [Unreleased]

暂无未发布的内容。

---

## [1.1.0] - 2026-02-01

### 🌟 智能推荐系统上线

ETF Challenger v1.1.0 新增智能ETF推荐引擎，基于多维度评分系统为您智能筛选优质ETF。

#### Added - 新功能

##### 多维度ETF评分系统 ⭐
- 5个评分维度
  - 收益潜力：基于年化收益率和夏普比率
  - 风险评估：基于波动率和最大回撤
  - 流动性：基于规模和成交量
  - 费率优势：管理费率评分
  - 技术面：MA/RSI/MACD综合评分
- 三种投资策略（保守/稳健/激进）
  - 保守型：注重风险控制和流动性（风险35%，流动性25%）
  - 稳健型：收益与风险平衡（收益30%，风险25%）
  - 激进型：追求高收益，重视技术面（收益45%，技术20%）
- 评分归一化算法（统一到0-100分）

##### 智能推荐理由生成 💡
- 基于多维度评分的优势解释（3-5条推荐理由）
- 风险提示智能生成（识别高波动、大回撤等风险）
- 市场对比信息（与市场平均水平对比）
- 五级置信度体系（极高/高/中等/偏低/低）

##### 推荐命令 `etf recommend`
- `etf recommend` - 使用默认策略推荐ETF
- `etf recommend --strategy <type>` - 指定推荐策略（conservative/balanced/aggressive）
- `etf recommend --top N` - 返回前N支推荐
- `etf recommend --industry <name>` - 特定行业推荐
- `etf recommend --detail` - 显示详细评分明细

#### Technical - 技术改进
- 新增recommendation模块（scorer.py + explainer.py）
- ETFScorer评分引擎（可扩展的维度系统）
- RecommendationExplainer推荐理由生成器
- 策略配置系统（灵活的权重管理）
- 完整测试套件（26个测试用例，100%通过）

#### Documentation - 文档
- 新增 `docs/recommend_usage.md` 完整使用指南
- 更新 README.md 添加推荐功能说明

---

### 后续版本规划

#### v1.2.0 - 用户画像系统 (2026-02-22)
- 风险评估问卷
- 用户画像数据模型
- 基于画像的个性化推荐

#### v1.3.0 - 投资组合管理 (2026-03-08)
- 持仓管理
- 组合风险分析
- 再平衡策略

#### v1.4.0 - 风险预警系统 (2026-03-22)
- 异常波动检测
- 止盈止损管理
- 预警规则引擎

---

## [1.0.0] - 2026-02-01

### 🎉 首个正式版本发布

ETF Challenger v1.0.0 正式发布！这是一个功能完整、稳定可靠的A股场内ETF分析工具。

### ✨ 核心功能

#### 数据查询与分析
- **实时行情查询** (`etf quote`) - 查看ETF实时价格、涨跌幅、成交量等
- **溢价/折价分析** (`etf premium`) - 计算并分析ETF溢价率走势
- **历史数据分析** (`etf analyze`) - 技术指标分析(MA/RSI/MACD/布林带)
- **持仓成分查询** (`etf holdings`) - 查看ETF前N大持仓及权重

#### 智能决策支持
- **交易建议系统** (`etf suggest`) - 综合技术指标生成买卖建议
  - 多维度评分：趋势、RSI、MACD、布林带、成交量、溢价率
  - 5档信号：强烈买入/买入/持有/卖出/强烈卖出
  - 置信度计算与风险等级评估
  - 目标价位与止损位建议

#### 批量分析与报告
- **ETF筛选器** (`etf screen`) ⭐
  - 基于规模和流动性筛选优质ETF
  - **指数去重功能** - 相同指数只保留评分最高一支
  - 智能识别30+常见指数（沪深300/中证500/券商等）
  - 流动性评分算法（0-100分）
  - 支持`--dedup/--no-dedup`灵活控制

- **批量对比分析** (`etf compare`)
  - 同时对比多只ETF
  - 综合评分排名
  - 技术指标对比统计

- **批量投资建议** (`etf batch`)
  - 一键生成ETF池所有标的买卖建议
  - 支持Markdown/HTML格式报告
  - 自动汇总买入/持有/卖出统计

- **综合分析报告** (`etf report`)
  - Markdown/HTML/JSON三种格式
  - 整合行情、技术指标、交易建议、持仓等所有数据

#### 定时监控服务
- **监控调度系统** (`etf monitor`)
  - 早盘/尾盘定时报告生成
  - 邮件通知推送（163邮箱）
  - 守护进程模式运行
  - 完整的配置管理

#### ETF投资池管理
- **8个主题投资池**，共38支精选ETF（已去重）
  - 宽基指数 (5支, 2143亿份)
  - 医疗医药 (2支, 962亿份)
  - 科技创新 (6支, 840亿份)
  - 金融券商 (1支, 241亿份)
  - 港股海外 (6支, 2121亿份)
  - 消费能源 (4支, 900亿份)
  - 精选组合 (10支, 5253亿份)
  - 主题轮动 (4支, 376亿份)
- 总规模：7780.61亿份
- 平均流动性评分：97.1

### 🔧 技术特性

#### 数据源
- **akshare** - 主数据源（同花顺/东方财富）
- **BaoStock** - 备用数据源，提升稳定性
- 多数据源自动切换机制

#### 性能优化
- 智能缓存机制（历史数据1小时，持仓数据24小时）
- 重试机制（网络请求失败自动重试）
- 并发分析支持

#### 代码质量
- 类型注解支持
- 完善的错误处理
- 模块化设计
- 丰富的配置选项

### 📊 统计数据

- 总代码量: ~5000行
- 命令数量: 12个主要命令
- 支持指数: 30+常见指数
- ETF池规模: 7780.61亿份
- 测试覆盖: 基础功能已验证

### 📝 文档

- ✅ README.md - 用户文档
- ✅ CLAUDE.md - 项目指南
- ✅ ETF筛选功能文档
- ✅ 内联代码注释

### 🎯 适用场景

1. **长期投资者** - 使用筛选器和精选组合构建核心持仓
2. **波段交易者** - 使用交易建议系统把握买卖时机
3. **量化分析** - 批量分析和对比，数据导出支持
4. **主题轮动** - 主题轮动池捕捉行业机会

### 🔗 相关链接

- GitHub仓库: https://github.com/glcrazier/etf-challenger
- 问题反馈: https://github.com/glcrazier/etf-challenger/issues

---

## 版本说明

### 语义化版本控制

本项目遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/)：

- **主版本号(MAJOR)**：不兼容的API修改
- **次版本号(MINOR)**：向下兼容的功能性新增
- **修订号(PATCH)**：向下兼容的问题修正

### 变更类型

- `Added` - 新功能
- `Changed` - 现有功能的变更
- `Deprecated` - 即将移除的功能
- `Removed` - 已移除的功能
- `Fixed` - 问题修复
- `Security` - 安全问题修复
