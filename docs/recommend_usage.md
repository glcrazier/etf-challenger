# ETF智能推荐命令使用指南

## 概述

`etf recommend` 是v1.1.0新增的智能推荐命令，基于多维度评分系统为您推荐优质ETF。

## 功能特性

### 🎯 多维度评分系统

5个评分维度，综合评估ETF质量：

| 维度 | 权重 | 评分依据 |
|------|------|----------|
| 收益潜力 | 20-45% | 年化收益率 + 夏普比率 |
| 风险评估 | 10-35% | 波动率 + 最大回撤 |
| 流动性 | 15-25% | 规模 + 成交量 |
| 费率优势 | 10-15% | 管理费率 |
| 技术面 | 5-20% | MA/RSI/MACD综合 |

### 📊 三种推荐策略

**1. 保守型 (Conservative)**
```bash
etf recommend --strategy conservative
```
- 适合人群：风险厌恶型投资者
- 权重配置：风险35% 流动25% 收益20% 费率15% 技术5%
- 特点：注重风险控制和流动性，追求稳健收益

**2. 稳健型 (Balanced)** - 默认策略
```bash
etf recommend  # 或 etf recommend --strategy balanced
```
- 适合人群：大多数投资者
- 权重配置：收益30% 风险25% 流动20% 费率15% 技术10%
- 特点：收益与风险平衡，综合表现良好

**3. 激进型 (Aggressive)**
```bash
etf recommend --strategy aggressive
```
- 适合人群：高风险承受能力投资者
- 权重配置：收益45% 技术20% 流动15% 费率10% 风险10%
- 特点：追求高收益，技术面权重高

## 使用示例

### 基础推荐

```bash
# 使用默认策略(稳健型)推荐前10支ETF
etf recommend
```

**输出示例**：
```
┌────────────────────────────────────────────────┐
│         智能ETF推荐                            │
│                                                │
│ 策略: 稳健型 - 收益与风险平衡                  │
│ 推荐数量: 10支                                 │
│ 更新时间: 2026-02-01 15:30:00                 │
└────────────────────────────────────────────────┘

┌────────────────────────────────────────────────┐
│ 🌟 #1 沪深300ETF (510300)                     │
│                                                │
│ 综合评分: 85.3分  |  置信度: 高               │
│ 指数类型: 沪深300  |  规模: 910亿份  |  费率: 0.50% │
│                                                │
│ ✓ 推荐理由:                                    │
│   📈 年化收益率达15.2%，收益表现良好          │
│   🛡️ 波动率仅18.3%，风险控制优秀            │
│   💰 规模910亿份，流动性极佳                  │
│   💵 管理费率仅0.50%，费用合理                │
│                                                │
└────────────────────────────────────────────────┘
```

### 指定推荐策略

```bash
# 保守型推荐(注重风险控制)
etf recommend --strategy conservative

# 激进型推荐(追求高收益)
etf recommend --strategy aggressive
```

### 返回更多推荐

```bash
# 返回前20支推荐
etf recommend --top 20

# 返回前5支推荐
etf recommend --top 5
```

### 行业筛选

```bash
# 只推荐科技行业
etf recommend --industry 科技

# 推荐科技和医药行业（多选）
etf recommend --industry 科技 --industry 医药

# 保守型策略 + 医药行业
etf recommend --strategy conservative --industry 医药
```

### 显示详细评分

```bash
# 显示详细评分明细
etf recommend --detail
```

**详细输出示例**：
```
┌────────────────────────────────────────────────┐
│ 🌟 #1 沪深300ETF (510300)                     │
│                                                │
│ 综合评分: 85.3分  |  置信度: 高               │
│ 指数类型: 沪深300  |  规模: 910亿份  |  费率: 0.50% │
│                                                │
│ ✓ 推荐理由:                                    │
│   📈 年化收益率达15.2%，收益表现良好          │
│   🛡️ 波动率仅18.3%，风险控制优秀            │
│   💰 规模910亿份，流动性极佳                  │
│   💵 管理费率仅0.50%，费用合理                │
│                                                │
│ 📊 评分明细:                                   │
│   收益潜力: 78.5  风险评估: 82.1              │
│   流动性: 100.0  费率优势: 77.8  技术面: 75.2 │
│                                                │
│ 年化收益: +15.2%  |  波动率: 18.3%            │
└────────────────────────────────────────────────┘
```

### 高级组合

```bash
# 激进型策略 + 科技行业 + 前15支 + 详细评分
etf recommend --strategy aggressive --industry 科技 --top 15 --detail

# 保守型 + 最小规模20亿 + 前10支
etf recommend --strategy conservative --min-scale 20 --top 10
```

## 评分说明

### 综合评分等级

| 评分范围 | 等级 | 标识 | 说明 |
|----------|------|------|------|
| ≥85分 | 优秀 | 🌟 | 强烈推荐，各项指标均衡优秀 |
| 75-85分 | 良好 | ⭐ | 推荐，整体表现良好 |
| 65-75分 | 一般 | ✦ | 可以考虑，部分指标较弱 |
| <65分 | 较差 | - | 谨慎，建议深入研究 |

### 置信度等级

| 置信度 | 说明 |
|--------|------|
| 极高 | 各维度得分均衡且优秀，强烈推荐 |
| 高 | 综合表现优秀，推荐关注 |
| 中等 | 整体表现良好，可以考虑 |
| 偏低 | 部分指标较弱，需谨慎 |
| 低 | 综合表现欠佳，不建议配置 |

## 推荐理由类型

系统会根据评分自动生成3-5条推荐理由：

### 收益类理由
- 📈 年化收益率达XX%，收益表现优异
- 📈 年化收益率XX%，收益表现良好
- 📊 夏普比率高，风险调整后收益优秀

### 风险类理由
- 🛡️ 波动率仅XX%，风险控制优秀，适合稳健投资
- 🛡️ 波动率XX%，风险可控
- 📉 最大回撤控制良好，风险管理能力强

### 流动性类理由
- 💰 规模XX亿份，超大规模，流动性极佳
- 💰 规模XX亿份，流动性优秀，适合大额交易
- 💰 规模XX亿份，流动性良好

### 费率类理由
- 💵 管理费率仅XX%，成本优势明显
- 💵 管理费率XX%，费用合理

### 技术面类理由
- 📊 技术指标健康，趋势向好
- 📊 技术面中性偏多，走势平稳

## 风险提示

系统会自动识别风险点并提示：

- ⚠️ 波动率较高(XX%)，建议控制仓位
- ⚠️ 历史最大回撤达XX%，注意风险
- ⚠️ 流动性一般，建议小额交易
- ⚠️ 年化收益为负(XX%)，需谨慎
- ⚠️ 技术面偏弱，短期可能承压

## 使用建议

### 1. 首次使用
```bash
# 建议先使用默认策略了解推荐结果
etf recommend

# 查看详细评分，了解评分逻辑
etf recommend --detail
```

### 2. 根据风险偏好选择策略
- **保守投资者**: `--strategy conservative`
- **平衡投资者**: 使用默认策略
- **激进投资者**: `--strategy aggressive`

### 3. 行业配置
```bash
# 分散投资：获取不同行业推荐
etf recommend --industry 科技 --top 3
etf recommend --industry 医药 --top 3
etf recommend --industry 消费 --top 3
```

### 4. 定期更新
- 建议每周运行一次，了解最新推荐
- 市场环境变化时，可能需要调整策略

### 5. 结合其他命令使用
```bash
# 1. 获取推荐
etf recommend --top 5

# 2. 查看详细行情
etf quote 510300

# 3. 获取交易建议
etf suggest 510300

# 4. 生成分析报告
etf report 510300
```

## 注意事项

⚠️ **重要提示**：
1. 推荐结果基于历史数据，不代表未来表现
2. 请结合自身风险承受能力和投资目标
3. 建议配合基本面分析和市场环境判断
4. 投资有风险，决策需谨慎

## 常见问题

### Q: 推荐结果为什么变化？
A: 推荐基于实时数据和90天历史数据计算，市场变化会影响评分。

### Q: 哪种策略最好？
A: 没有最好的策略，只有最适合的策略。根据您的风险偏好选择。

### Q: 评分高就一定好吗？
A: 评分是综合指标，但不是唯一依据。建议结合推荐理由和风险提示综合判断。

### Q: 可以同时关注多个行业吗？
A: 可以，使用多个 `--industry` 选项，或多次运行命令获取不同行业推荐。

## 技术细节

### 评分算法
```python
总分 = (
    收益潜力 × 权重1 +
    风险评估 × 权重2 +
    流动性 × 权重3 +
    费率优势 × 权重4 +
    技术面 × 权重5
)
```

### 数据来源
- 历史数据：90天K线数据
- 技术指标：MA5/MA20/RSI/MACD
- 基本信息：规模、费率、流动性评分
- 实时更新：每次运行重新计算

## 反馈与建议

如有问题或建议，欢迎提交Issue：
https://github.com/glcrazier/etf-challenger/issues
